<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Records - Wiley Javier - 23-0455-222</title>
<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: #f0f2f5;
        margin: 0;
        padding: 30px;
    }

    h1 {
        text-align: center;
        color: #333;
        margin-bottom: 30px;
    }

    #studentForm {
        background: #fff;
        padding: 20px;
        border-radius: 12px;
        max-width: 900px;
        margin: 0 auto 30px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        justify-content: space-between;
    }

    #studentForm input {
        flex: 1 1 28%;
        padding: 10px;
        border-radius: 6px;
        border: 1px solid #ccc;
        font-size: 14px;
    }

    #studentForm button {
        padding: 10px 20px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        transition: background 0.3s;
    }

    #studentForm button:hover {
        background-color: #0056b3;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        background: #fff;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    th, td {
        padding: 12px 10px;
        text-align: left;
    }

    th {
        background-color: #007bff;
        color: white;
    }

    tr:nth-child(even) {
        background-color: #f4f6f8;
    }

    tr:hover {
        background-color: #e1f0ff;
    }

    button.delete-btn {
        background-color: #dc3545;
        color: white;
        border: none;
        padding: 5px 10px;
        border-radius: 6px;
        cursor: pointer;
        transition: background 0.3s;
    }

    button.delete-btn:hover {
        background-color: #a71d2a;
    }
</style>
</head>
<body>

<h1>Records - Wiley Javier - 23-0455-222</h1>

<form id="studentForm">
    <input type="text" id="studentID" placeholder="Student ID" required>
    <input type="text" id="firstName" placeholder="First Name" required>
    <input type="text" id="lastName" placeholder="Last Name" required>
    <input type="number" id="lab1" placeholder="LAB 1">
    <input type="number" id="lab2" placeholder="LAB 2">
    <input type="number" id="lab3" placeholder="LAB 3">
    <input type="number" id="prelim" placeholder="PRELIM EXAM">
    <input type="number" id="attendance" placeholder="ATTENDANCE">
    <button type="submit">Add Student</button>
</form>

<table id="studentTable">
    <thead>
        <tr>
            <th>Student ID</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>LAB 1</th>
            <th>LAB 2</th>
            <th>LAB 3</th>
            <th>PRELIM EXAM</th>
            <th>ATTENDANCE</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        <!-- JS will populate rows -->
    </tbody>
</table>

<script>
// Paste your full CSV here
let csvData = `StudentID,First Name,Last Name,LAB 1,LAB 2,LAB 3,PRELIM EXAM,ATTENDANCE
073900438,Osbourne,Wakenshaw,69,5,52,12,78
114924014,Albie,Gierardi,58,92,16,57,97
111901632,Eleen,Pentony,43,81,34,36,16
084000084,Arie,Okenden,31,5,14,39,99
272471551,Alica,Muckley,49,66,97,3,95`;

// Convert CSV to array of objects
let rows = csvData.split('\n');
let headers = rows[0].split(',');
let students = rows.slice(1).map(r => {
    const values = r.split(',');
    let obj = {};
    headers.forEach((h, i) => obj[h] = values[i]);
    return obj;
});

const tbody = document.querySelector('#studentTable tbody');

// Render table
function render() {
    tbody.innerHTML = '';
    students.forEach((s, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${s['StudentID']}</td>
            <td>${s['First Name']}</td>
            <td>${s['Last Name']}</td>
            <td>${s['LAB 1']}</td>
            <td>${s['LAB 2']}</td>
            <td>${s['LAB 3']}</td>
            <td>${s['PRELIM EXAM']}</td>
            <td>${s['ATTENDANCE']}</td>
            <td><button class="delete-btn">Delete</button></td>
        `;
        row.querySelector('.delete-btn').addEventListener('click', () => {
            deleteStudent(index);
        });
        tbody.appendChild(row);
    });
    updateCSV(); // update CSV after each render
}

// Delete student
function deleteStudent(index) {
    students.splice(index, 1);
    render();
}

// Update CSV string in real time
function updateCSV() {
    const newCsv = [headers.join(',')].concat(
        students.map(s => headers.map(h => s[h]).join(','))
    ).join('\n');
    csvData = newCsv;
    console.log('Updated CSV:\n', csvData); // You can remove or keep this for debugging
}

// Handle form submission
document.getElementById('studentForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const newStudent = {
        'StudentID': document.getElementById('studentID').value,
        'First Name': document.getElementById('firstName').value,
        'Last Name': document.getElementById('lastName').value,
        'LAB 1': document.getElementById('lab1').value || 0,
        'LAB 2': document.getElementById('lab2').value || 0,
        'LAB 3': document.getElementById('lab3').value || 0,
        'PRELIM EXAM': document.getElementById('prelim').value || 0,
        'ATTENDANCE': document.getElementById('attendance').value || 0
    };
    students.push(newStudent);
    render();
    this.reset();
});

render();
</script>

</body>
</html>
